# Тестовое задание для DevOps

# Настройку системы по указанным ниже задачам необходимо произвести с использованием подготовленных ролей Ansible. В качестве решения должен быть предоставлен архив или ссылка на публичный репозиторий с ролями и плэйбуками Ansible.

## Настройка площадок на сервере

По результатам работы должно получиться 2 площадки под сайты, которые будут обслуживать сайты (site.ru и site-2.ru). Так же должен работать PMA как алиас к обоим площадкам.

Задание по настройке площадки для работы сайта site.ru:
  * Необходимо настроить связку Nginx+Apache2+PHP+MySQL для работы сайта(site.ru).
  * На сервере подготовить площадку под сайт и развернуть в рамках неё CMS Битрикс
  * Настроить web-сервер таким образом, чтобы все запросы к статическим данным, таким как изображения, видео, gif и др, обрабатывались Nginx, а все остальные - передавались на обработку Apache2.
  * При этом, все подобные запросы, которые Nginx должен был, но по каким-то причинам не смог обработать самостоятельно - должны передаваться на Apache2
    (т.е., если файла http://site.ru/test-nixys.js нет и Nginx, разумеется, не может отдать такой файл, то такие запросы должны быть переданы на обработку Apache2).
  * Настроить минимально необходимые для работы Nginx и Apache права на площадку для сайта.

Задание по настройке площадки для работы сайта site-2.ru:
  * Необходимо настроить связку Nginx+php-fpm для работы сайта(site-2.ru).
  * Необходимо предусмотреть возможность переключения между версиями php через разные пулы fpm
  * Сайт должен работать от пользователя site-2.ru
  * Установить на площадке любой файл менеджер на PHP. Загрузить/удалить с его помощью несколько файлов внутрь сайта(статических(картинки) и динамических файлов(например phpinfo)).
  * Проверить корректность доступа к загруженным файлам.

Задание по настройке phpMyAdmin как алиас:
  * phpMyAdmin должен работать для любого сайта сервера - простым добавлением /phpmyadmin к URL сайта(PMA как алиас).
  * phpMyAdmin должен быть последней версии, скачанный с официального сайта.
  * Обеспечить работу phpMyAdmin(без ошибок и предупреждений) и возможность управления базами данных MySQL на данном сервере.
  * Обеспечить возможность работы \"дополнительных возможностей\" PMA
  * Статические данные PMA должны отдаваться веб-сервером Nginx.

Ответ необходимо прислать в виде .tar.gz файла, содержащего директории и файлы с настройками(основные директории сервисов, которые подверглись модификации), а так же структуру каталогов и файлов(в /var/www/) для проверки созданных связок.
Если с Вашей стороны возникнут какие-либо комментарии к заданию - Вы можете описать их в письме, или вложить файл read.me .

## Ремарка
Площадка под сайт представляет директорию в /var/www/, в которой содержатся:
* Отдельная директория для кода сайта(DOC_ROOT)
* Отдельная структура директорий для хранения логов сайта
* Отдельная директория для хранения сессий сайта
* Отдельная директория для хранения временных файлов сайта

Тестовое задание необходимо выполнить в ОС Debian/Ubuntu/CentOS.